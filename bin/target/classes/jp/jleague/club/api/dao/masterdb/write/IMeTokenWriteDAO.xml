<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.jleague.club.api.dao.masterdb.read.IMeTokenWriteDAO">

<resultMap id="IMeTokenDTO" type="jp.jleague.club.api.dao.masterdb.dto.IMeTokenDTO">

<result javaType="java.lang.String" property="memberId" column="member_id"/>
<result javaType="java.lang.String" property="accessToken" column="access_token"/>
<result javaType="java.lang.String" property="refleshToken" column="reflesh_token"/>
<result javaType="java.util.Date" property="registDatetime" column="regist_datetime"/>
<result javaType="java.util.Date" property="updateDatetime" column="update_datetime"/>

</resultMap>
<insert id="insert" parameterType="jp.jleague.club.api.dao.masterdb.dto.IMeTokenDTO" >
	insert i_me_token (
		member_id,
		access_token,
		reflesh_token,
		regist_datetime,
		update_datetime
	)
	values (
		#{memberId},
		#{accessToken},
		#{refleshToken},
		#{registDatetime},
		#{updateDatetime}
	)
</insert>

<update id="update" parameterType="jp.jleague.club.api.dao.masterdb.dto.IMeTokenDTO" >
	update i_me_token set
		access_token = #{accessToken},
		reflesh_token = #{refleshToken},
		update_datetime = #{updateDatetime}
	where member_id = #{memberId}
</update>

<delete id="delete" parameterType="jp.jleague.club.api.dao.masterdb.dto.IMeTokenDTO">
	delete from i_me_token where member_id = #{memberId}
</delete>

<select id="selectList" parameterType="java.lang.String" resultMap="IMeTokenDTO">
	select
		member_id,
		access_token,
		reflesh_token,
		regist_datetime,
		update_datetime
	from i_me_token
	where member_id = #{memberId}
</select>

</mapper>
