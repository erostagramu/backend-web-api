<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.jleague.club.api.dao.masterdb.read.IMeFavoriteClubReadDAO">

	<resultMap type="jp.jleague.club.api.dao.masterdb.dto.IMeFavoriteClubDTO" id="IMeFavoriteClubDTO">
		<result column="member_id" property="memberId" javaType="java.lang.String" />
		<result column="club_id" property="clubId" javaType="java.lang.String" />
		<result column="i_member_sort_by_favorite" property="iMemberSortByFavorite" javaType="java.lang.Integer" />
		<result column="announcement_announced_day_before_flg" property="announcementAnnouncedDayBeforeFlg" javaType="java.lang.Integer" />
		<result column="starting_member_announced_flg" property="startingMemberAnnouncedFlg" javaType="java.lang.Integer" />
		<result column="game_started_flg" property="gameStartedFlg" javaType="java.lang.Integer" />
		<result column="goal_flg" property="goalFlg" javaType="java.lang.Integer" />
		<result column="warning_flg" property="warningFlg" javaType="java.lang.Integer" />
		<result column="change_flg" property="changeFlg" javaType="java.lang.Integer" />
		<result column="first_half_finished_flg" property="firstHalfFinishedFlg" javaType="java.lang.Integer" />
		<result column="game_finished_flg" property="gameFinishedFlg" javaType="java.lang.Integer" />
		<result column="regist_datetime" property="registDatetime" javaType="java.util.Date" />
		<result column="update_datetime" property="updateDatetime" javaType="java.util.Date" />
	</resultMap>

	<select id="selectByMemberId" resultMap="IMeFavoriteClubDTO">
		select member_id
		     , club_id
		     , i_member_sort_by_favorite
		     , announcement_announced_day_before_flg
		     , starting_member_announced_flg
		     , game_started_flg
		     , goal_flg
		     , warning_flg
		     , change_flg
		     , first_half_finished_flg
		     , game_finished_flg
		     , regist_datetime
		     , update_datetime
		from i_me_favorite_club
		where member_id = #{memberId}
		order by club_id
		<if test="limit != null">limit <if test="offset != null">#{offset}, </if>#{limit}</if>
	</select>

	<select id="selectByMemberIdOrderByIMemberSortByFavorite" resultMap="IMeFavoriteClubDTO">
		select member_id
		     , club_id
		     , i_member_sort_by_favorite
		     , announcement_announced_day_before_flg
		     , starting_member_announced_flg
		     , game_started_flg
		     , goal_flg
		     , warning_flg
		     , change_flg
		     , first_half_finished_flg
		     , game_finished_flg
		     , regist_datetime
		     , update_datetime
		from i_me_favorite_club
		where member_id = #{memberId}
		order by i_member_sort_by_favorite
		<if test="limit != null">limit <if test="offset != null">#{offset}, </if>#{limit}</if>
	</select>

	<select id="countByMemberId" resultType="java.lang.Integer">
		select count(club_id)
		from i_me_favorite_club
		where member_id = #{memberId}
	</select>

<select id="selectList" parameterType="jp.jleague.club.api.dao.masterdb.dto.IMeFavoriteClubDTO" resultMap="IMeFavoriteClubDTO">
select
	member_id,
	club_id,
	i_member_sort_by_favorite,
	announcement_announced_day_before_flg,
	starting_member_announced_flg,
	game_started_flg,
	goal_flg,
	warning_flg,
	change_flg,
	first_half_finished_flg,
	game_finished_flg,
	regist_datetime,
	update_datetime
from i_me_favorite_club
where member_id = #{memberId}
<if test="clubId != null">
 and club_id = #{clubId}
</if>
order by i_member_sort_by_favorite
</select>

</mapper>


