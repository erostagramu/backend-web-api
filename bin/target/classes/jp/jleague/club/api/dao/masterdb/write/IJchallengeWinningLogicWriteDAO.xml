<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.jleague.club.api.dao.masterdb.read.IJchallengeWinningLogicWriteDAO">

<update id="updatePeriodTicketNumSubtract" parameterType="jp.jleague.club.api.dao.masterdb.dto.IJchallengeWinningLogicDTO">
update
	i_jc_winning_logic
set
	period_ticket_num = period_ticket_num -1,
	update_datetime = #{updateDatetime}
where
		game_id = #{gameId}
	and pickup_flg = #{pickupFlg}
	and Date(#{winningStartDate}) between winning_start_date and winning_end_date
</update>

</mapper>
