<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.jleague.club.api.dao.masterdb.read.IMeMemberInfoReadDAO">

<resultMap id="IMeMemberInfoDTO" type="jp.jleague.club.api.dao.masterdb.dto.IMeMemberInfoDTO">
<result javaType="java.lang.String" property="memberId" column="member_id"/>
<result javaType="java.lang.String" property="jleagueId" column="jleague_id"/>
<result javaType="java.lang.String" property="mailAddress" column="mail_address"/>
<result javaType="java.lang.Byte" property="sex" column="sex"/>
<result javaType="java.lang.String" property="prefectures" column="prefectures"/>
<result javaType="java.util.Date" property="birthday" column="birthday"/>
<result javaType="java.lang.Byte" property="memberType" column="member_type"/>
<result javaType="java.lang.Byte" property="formerMemberType" column="former_member_type"/>
<result javaType="java.lang.Byte" property="memberStatus" column="member_status"/>
<result javaType="java.util.Date" property="registDatetime" column="regist_datetime"/>
<result javaType="java.util.Date" property="updateDatetime" column="update_datetime"/>
</resultMap>

<select id="selectList" parameterType="jp.jleague.club.api.dao.masterdb.dto.IMeMemberInfoDTO" resultMap="IMeMemberInfoDTO">
select 
	member_id,
    jleague_id,
    mail_address,
    sex,
    prefectures,
    birthday,
    member_type,
    former_member_type,
    member_status,
    regist_datetime,
    update_datetime 
from i_me_member_info 
where member_id = #{memberId} 
</select>

<select id='selectMemberStatus' resultType='java.lang.Integer'>
	select
		count(*) 
	from
		i_me_member_info
	where
			member_id = #{memberId}
		and member_status = 1
</select>


</mapper> 
